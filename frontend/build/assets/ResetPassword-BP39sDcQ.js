import{r as e,b as A,u as G,j as s,c as q}from"./index-DnRDX3w2.js";import{C as B,a as m,b as L}from"./index.esm-DBaUAKo-.js";import{c as u,F as p,f as x,a as C}from"./index-jC9YexgU.js";import{C as h,a as w}from"./CRow-1tTMpDHO.js";import{C as T}from"./CCardGroup-Drsu4L28.js";import{C as V,a as D}from"./CCardBody-DCdMFWZv.js";import{C as z}from"./CForm-DUZMZWxx.js";import{C as f,a}from"./CInputGroupText-C4puiyyr.js";import{C as j}from"./CFormInput-DldqsSPp.js";import{C as P}from"./CAlert-F9qhzg3x.js";import"./CCloseButton-DW2grjsO.js";const _=()=>{const[t,g]=e.useState(""),[i,y]=e.useState(""),[l,n]=e.useState(""),[S,b]=e.useState(""),{token:N}=A(),v=G(),[o,k]=e.useState(!1),[d,E]=e.useState(!1),F=()=>{k(!o)},I=()=>{E(!d)},R=async r=>{if(r.preventDefault(),t!==i){n("Passwords do not match");return}try{const c=await q(N,t);c.code===200&&!c.errors?(b("Password reset successfully. Redirecting to login..."),setTimeout(()=>v("/login"),3e3)):n("Failed to reset password. Please try again.")}catch{n("An error occurred. Please try again.")}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(B,{children:s.jsx(h,{className:"justify-content-center",children:s.jsx(w,{md:8,children:s.jsx(T,{children:s.jsx(V,{className:"p-4",children:s.jsxs(D,{children:[s.jsxs(z,{onSubmit:R,children:[s.jsx("h1",{children:"Reset Password"}),s.jsxs(f,{className:"mb-4",children:[s.jsx(a,{children:s.jsx(m,{icon:u})}),s.jsx(j,{type:o?"text":"password",value:t,onChange:r=>g(r.target.value),placeholder:"New Password",required:!0,autoComplete:"new-password"}),s.jsxs(a,{onClick:F,style:{cursor:"pointer"},children:[s.jsx(p,{icon:o?x:C})," "]})]}),s.jsxs(f,{className:"mb-4",children:[s.jsx(a,{children:s.jsx(m,{icon:u})}),s.jsx(j,{type:d?"text":"password",value:i,onChange:r=>y(r.target.value),placeholder:"Confirm New Password",required:!0,autoComplete:"confirm-password"}),s.jsxs(a,{onClick:I,style:{cursor:"pointer"},children:[s.jsx(p,{icon:o?x:C})," "]})]}),s.jsx(h,{children:s.jsx(w,{xs:6,children:s.jsx(L,{type:"submit",color:"primary",className:"px-4",children:"Submit"})})})]}),l&&s.jsx(P,{color:"danger",className:"mt-3",children:l}),S&&s.jsx(P,{color:"success",className:"mt-3",children:"Password changed Successfull"})]})})})})})})})};export{_ as default};
