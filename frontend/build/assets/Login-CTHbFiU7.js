import{r as e,u as S,a as E,j as s,l as L}from"./index-DnRDX3w2.js";import{C as F,a as u,b as x}from"./index.esm-DBaUAKo-.js";import{c as I,F as P,f as k,a as A}from"./index-jC9YexgU.js";import{C as h,a as l}from"./CRow-1tTMpDHO.js";import{C as G}from"./CCardGroup-Drsu4L28.js";import{C as q,a as B}from"./CCardBody-DCdMFWZv.js";import{C as R}from"./CForm-DUZMZWxx.js";import{C as D}from"./CAlert-F9qhzg3x.js";import{C,a as c}from"./CInputGroupText-C4puiyyr.js";import{c as T}from"./MemberDetailsView-CTXHKFj-.js";import{C as j}from"./CFormInput-DldqsSPp.js";import"./CCloseButton-DW2grjsO.js";const _=()=>{const[d,f]=e.useState(""),[m,g]=e.useState(""),[r,w]=e.useState(!1),[p,y]=e.useState(""),a=S(),[U,t]=e.useState(!0),b=()=>{w(!r)},{isAuthenticated:n}=E();e.useEffect(()=>{console.log("login",n),n&&a("/dashboard")},[n]);const v=()=>{a("/forgot-password")},N=async o=>{o.preventDefault(),t(!0);const i=await L(d,m);i.code===200&&!i.error?(t(!1),a("/dashboard")):(y(i.message),t(!1))};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(F,{children:s.jsx(h,{className:"justify-content-center",children:s.jsx(l,{md:8,children:s.jsx(G,{children:s.jsx(q,{className:"p-4",children:s.jsx(B,{children:s.jsxs(R,{onSubmit:N,children:[s.jsx("h1",{children:"Login"}),p&&s.jsx(D,{color:"danger",children:p}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(C,{className:"mb-3",children:[s.jsx(c,{children:s.jsx(u,{icon:T})}),s.jsx(j,{type:"email",value:d,onChange:o=>f(o.target.value),placeholder:"Email",required:!0,autoComplete:"email"})]}),s.jsxs(C,{className:"mb-4",children:[s.jsx(c,{children:s.jsx(u,{icon:I})}),s.jsx(j,{type:r?"text":"password",value:m,onChange:o=>g(o.target.value),placeholder:"Password",required:!0,autoComplete:"current-password"}),s.jsxs(c,{onClick:b,style:{cursor:"pointer"},children:[s.jsx(P,{icon:r?k:A})," "]})]}),s.jsxs(h,{children:[s.jsx(l,{xs:6,children:s.jsx(x,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),s.jsx(l,{xs:6,className:"text-right",children:s.jsx(x,{color:"link",className:"px-0",onClick:v,children:"Forgot password?"})})]})]})})})})})})})})};export{_ as default};
